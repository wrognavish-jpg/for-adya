<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Adya ‚ù§Ô∏è</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#ff4d6d">

<style>
  * { box-sizing: border-box; }

  html, body {
    width: 100%;
    height: 100%;
  }

  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #ff9a9e, #fad0c4);
    min-height: 100svh;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    color: #fff;
    overflow: hidden;
  }

  .container {
    background: rgba(0,0,0,0.25);
    padding: 30px;
    border-radius: 22px;
    max-width: 90%;
    position: relative;
    animation: fadeIn 0.8s ease forwards;
  }

  h1 {
    font-size: 26px;
    margin-bottom: 18px;
    transition: opacity 1.2s ease;
  }

  button {
    padding: 12px 32px;
    margin: 10px;
    border: none;
    border-radius: 30px;
    font-size: 18px;
    cursor: pointer;
    user-select: none;
  }

  .yes { background: #ff4d6d; color: #fff; }

  .no {
    background: #fff;
    color: #ff4d6d;
    position: absolute;
    transition: transform 0.2s ease;
  }

  #msg {
    margin-top: 15px;
    font-size: 18px;
    display: none;
  }

  #celebrate { display: none; }

  .photos {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
    margin-top: 20px;
  }

  .photos img {
    width: 100%;
    border-radius: 16px;
  }

  .heart {
    position: absolute;
    font-size: 22px;
    animation: floatUp 4s linear forwards;
  }

  @keyframes floatUp {
    from { transform: translateY(0); opacity: 1; }
    to { transform: translateY(-100vh); opacity: 0; }
  }

  @keyframes vibrate {
    0% { transform: translateX(0); }
    25% { transform: translateX(-2px); }
    50% { transform: translateX(2px); }
    75% { transform: translateX(-2px); }
    100% { transform: translateX(0); }
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: scale(0.96); }
    to { opacity: 1; transform: scale(1); }
  }

  .fade-out { opacity: 0; }
  .fade-in { opacity: 1; }
</style>
</head>

<body>

<!-- QUESTION SCREEN -->
<div class="container" id="question">
  <h1 id="typeText"></h1>
  <button class="yes" onclick="yesClicked()">Yes üíï</button>
  <button class="no" id="noBtn" onclick="noClicked()">No üò∂</button>
  <div id="msg"></div>
</div>

<!-- YES SCREEN -->
<div class="container" id="celebrate">
  <h1 id="yesLine1">I knew you‚Äôd say yes üíñ</h1>
  <h1 id="yesLine2" style="font-size:22px;">See? That wasn‚Äôt so hard üòÑ</h1>

  <div class="photos">
    <img src="photos/photo1.jpg">
    <img src="photos/photo2.jpg">
    <img src="photos/photo3.jpg">
    <img src="photos/photo4.jpg">
  </div>
</div>

<audio id="music" src="perfect.mp3" playsinline preload="auto"></audio>

<script>
  /* Typing */
  const text = "Hi Adya üíñ\nWill you be my Valentine?";
  let i = 0;
  const target = document.getElementById("typeText");

  function typeWriter() {
    if (i < text.length) {
      target.innerHTML += text[i] === "\n" ? "<br>" : text[i];
      i++;
      setTimeout(typeWriter, 55);
    }
  }
  typeWriter();

  /* NO button logic */
  const noBtn = document.getElementById("noBtn");
  let noCount = 0;
  let lastBg = -1;
  let sighUsed = false;
  let specialUsed = false;

  const bgMessages = [
    "Haha nope üòÑ","Still not happening üòå","Wrong button üòè","You‚Äôre persistent üòÜ",
    "This is getting funny üòÇ","Almost‚Ä¶ but no üòú","I admire the effort üòÑ",
    "Nice try üòè","Not today üòÖ","That‚Äôs cute üòå","You keep trying üòÜ",
    "I see what you‚Äôre doing üòÑ","This button is stubborn üòè",
    "Are you enjoying this? üòú","Okay wow üòÖ","Bold move üòè",
    "Still here huh üòÜ","This is fun üòÇ","No means‚Ä¶ maybe? üòú","You‚Äôre funny üòÑ"
  ];

  function noClicked() {
    noCount++;

    noBtn.style.animation = "vibrate 0.15s";
    setTimeout(() => noBtn.style.animation = "", 160);

    if (Math.random() < 0.7) {
      const x = Math.random() * 40 - 20;
      const y = Math.random() * 20;
      noBtn.style.transform = `translate(${x}px, ${y}px)`;
    }

    if (noCount === 10) {
      noBtn.style.transform = "translate(0,0)";
    }

    showBackgroundMessage();
  }

  function showBackgroundMessage() {
    const msg = document.getElementById("msg");
    msg.style.display = "block";

    if (!sighUsed) {
      sighUsed = true;
      msg.innerHTML = "<em>sigh‚Ä¶ üòÆ‚Äçüí®</em>";
      setTimeout(showRandomBg, 700);
      return;
    }

    if (noCount >= 15 && !specialUsed) {
      specialUsed = true;
      msg.innerHTML = "Okay‚Ä¶ I respect the dedication üòÑ";
      return;
    }

    showRandomBg();
  }

  function showRandomBg() {
    let idx;
    do {
      idx = Math.floor(Math.random() * bgMessages.length);
    } while (idx === lastBg);
    lastBg = idx;
    document.getElementById("msg").innerHTML = bgMessages[idx];
  }

  /* YES click */
  let yesLocked = false;
  function yesClicked() {
    if (yesLocked) return;
    yesLocked = true;

    document.getElementById("question").style.display = "none";
    document.getElementById("celebrate").style.display = "block";

    /* Fade text after 8s */
    setTimeout(() => {
      const l1 = document.getElementById("yesLine1");
      const l2 = document.getElementById("yesLine2");

      l1.classList.add("fade-out");
      l2.classList.add("fade-out");

      setTimeout(() => {
        l1.innerHTML = "";
        l2.innerHTML =
          "Life has given me so many beautiful things,<br>" +
          "but none as beautiful as the luck of crossing paths with you.";

        l2.classList.remove("fade-out");
        l2.classList.add("fade-in");
      }, 1200);
    }, 8000);

    /* Music (delayed start) */
    setTimeout(() => {
      const music = document.getElementById("music");
      music.volume = 0;

      const START = 162, STOP = 238;
      const start = () => {
        music.currentTime = START;
        music.play().catch(()=>{});
      };

      if (music.readyState >= 1) start();
      else music.addEventListener("loadedmetadata", start, { once:true });

      let v = 0;
      const fade = setInterval(() => {
        v += 0.04;
        music.volume = Math.min(v, 1);
        if (v >= 1) clearInterval(fade);
      }, 200);

      const stopCheck = setInterval(() => {
        if (music.currentTime >= STOP) {
          music.pause();
          music.currentTime = STOP;
          clearInterval(stopCheck);
        }
      }, 300);
    }, 500);

    setInterval(hearts, 320);
  }

  function hearts() {
    const h = document.createElement("div");
    h.className = "heart";
    h.innerHTML = "‚ù§Ô∏è";
    h.style.left = Math.random() * innerWidth + "px";
    h.style.bottom = "0";
    document.body.appendChild(h);
    setTimeout(() => h.remove(), 4000);
  }
</script>

</body>
</html>