<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Adya â¤ï¸</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#ff4d6d">

<style>
  * { box-sizing: border-box; }

  html, body {
    width: 100%;
    height: 100%;
  }

  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #ff9a9e, #fad0c4);
    min-height: 100svh;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    color: #fff;
    overflow: hidden;
  }

  .container {
    background: rgba(0,0,0,0.25);
    padding: 30px;
    border-radius: 22px;
    max-width: 90%;
    animation: fadeIn 1s ease forwards;
  }

  h1 {
    font-size: 26px;
    margin-bottom: 18px;
  }

  button {
    padding: 12px 32px;
    margin: 10px;
    border: none;
    border-radius: 30px;
    font-size: 18px;
    cursor: pointer;
  }

  .yes { background: #ff4d6d; color: #fff; }
  .no  { background: #fff; color: #ff4d6d; position:absolute; }

  #msg {
    margin-top: 15px;
    font-size: 18px;
    display: none;
  }

  #celebrate { display: none; }

  .photos {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
    margin-top: 20px;
  }

  .photos img {
    width: 100%;
    border-radius: 16px;
  }

  .heart {
    position: absolute;
    font-size: 22px;
    animation: floatUp 4s linear forwards;
  }

  @keyframes floatUp {
    from { transform: translateY(0); opacity: 1; }
    to   { transform: translateY(-100vh); opacity: 0; }
  }

  .firework {
    position: absolute;
    width: 8px;
    height: 8px;
    background: #fff;
    border-radius: 50%;
    animation: explode 1.2s ease-out forwards;
  }

  @keyframes explode {
    from { transform: scale(1); opacity: 1; }
    to   { transform: scale(6); opacity: 0; }
  }

  @keyframes shake {
    0% { transform: translateX(0); }
    25% { transform: translateX(-6px); }
    50% { transform: translateX(6px); }
    75% { transform: translateX(-6px); }
    100% { transform: translateX(0); }
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: scale(0.95); }
    to   { opacity: 1; transform: scale(1); }
  }
</style>
</head>

<body>

<div class="container" id="question">
  <h1 id="typeText"></h1>
  <button class="yes" onclick="yesClicked()">Yes ğŸ’•</button>
  <button class="no" id="noBtn" onclick="noClicked()">No ğŸ˜¶</button>
  <div id="msg"></div>
</div>

<div class="container" id="celebrate">
  <h1>I knew youâ€™d say yes ğŸ’–</h1>
  <h1 style="font-size:22px;">Iâ€™m really glad itâ€™s you ğŸ’–</h1>

  <div class="photos">
    <img src="photos/photo1.jpg">
    <img src="photos/photo2.jpg">
    <img src="photos/photo3.jpg">
    <img src="photos/photo4.jpg">
  </div>
</div>

<!-- POPUP -->
<div id="fakeConfirm" style="
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.6);
  justify-content:center;
  align-items:center;
  z-index:9999;
">
  <div id="confirmBox" style="
    background:#fff;
    color:#ff4d6d;
    padding:25px;
    border-radius:20px;
    max-width:80%;
    text-align:center;
  ">
    <p id="confirmText" style="font-size:18px;margin-bottom:20px;"></p>
    <button onclick="closeConfirm()">Okay ğŸ˜…</button>
  </div>
</div>

<audio id="music" src="perfect.mp3" playsinline preload="auto"></audio>

<script>
  /* Typing */
  const text = "Hi Adya ğŸ’–\nWill you be my Valentine?";
  let i = 0;
  const target = document.getElementById("typeText");
  function typeWriter() {
    if (i < text.length) {
      target.innerHTML += text[i] === "\n" ? "<br>" : text[i];
      i++;
      setTimeout(typeWriter, 60);
    }
  }
  typeWriter();

  const noBtn = document.getElementById("noBtn");

  const popupMessages = [
    "Are you sure? ğŸ˜¶",
    "Thatâ€™s a bold choice ğŸ˜",
    "I wouldnâ€™t do that ğŸ˜¬",
    "Think againâ€¦ ğŸ¤”",
    "This button is suspicious ğŸ‘€",
    "Youâ€™re testing me now ğŸ˜„",
    "That wonâ€™t work ğŸ˜Œ",
    "Nice try though ğŸ˜"
  ];

  const bgMessages = [
    "Haha nope ğŸ˜„",
    "Wrong button again ğŸ˜",
    "Still not happening ğŸ˜Œ",
    "Youâ€™re persistent ğŸ˜†",
    "This is getting funny ğŸ˜‚",
    "I admire the effort ğŸ˜„",
    "Almostâ€¦ but no ğŸ˜œ",
    "Okay wow ğŸ˜…"
  ];

  let lastBg = -1;
  let sighUsed = false;

  function moveNoButton() {
    const x = Math.random() * (window.innerWidth - 120);
    const y = Math.random() * (window.innerHeight - 60);
    noBtn.style.left = x + "px";
    noBtn.style.top  = y + "px";
  }

  function noClicked() {
    moveNoButton();

    const showPopup = Math.random() < 0.2; // ~1 in 5

    if (showPopup) {
      const modal = document.getElementById("fakeConfirm");
      const box = document.getElementById("confirmBox");
      const textEl = document.getElementById("confirmText");

      textEl.innerHTML = popupMessages[Math.floor(Math.random() * popupMessages.length)];
      box.style.animation = "shake 0.4s";
      modal.style.display = "flex";
    } else {
      showBackgroundMessage();
    }
  }

  function closeConfirm() {
    document.getElementById("fakeConfirm").style.display = "none";
    showBackgroundMessage();
  }

  function showBackgroundMessage() {
    const msg = document.getElementById("msg");
    msg.style.display = "block";

    if (!sighUsed) {
      sighUsed = true;
      msg.innerHTML = "<em>sighâ€¦ ğŸ˜®â€ğŸ’¨</em>";
      setTimeout(showRandomBg, 700);
    } else {
      showRandomBg();
    }
  }

  function showRandomBg() {
    let idx;
    do {
      idx = Math.floor(Math.random() * bgMessages.length);
    } while (idx === lastBg);
    lastBg = idx;
    document.getElementById("msg").innerHTML = bgMessages[idx];
  }

  /* YES */
  function yesClicked() {
    const music = document.getElementById("music");
    music.volume = 0;

    const START = 162, STOP = 238;

    const startMusic = () => {
      music.currentTime = START;
      music.play().catch(()=>{});
    };

    if (music.readyState >= 1) startMusic();
    else music.addEventListener("loadedmetadata", startMusic, { once:true });

    let v = 0;
    const fade = setInterval(() => {
      v += 0.04;
      music.volume = Math.min(v, 1);
      if (v >= 1) clearInterval(fade);
    }, 200);

    const stopCheck = setInterval(() => {
      if (music.currentTime >= STOP) {
        music.pause();
        music.currentTime = STOP;
        clearInterval(stopCheck);
      }
    }, 300);

    document.getElementById("question").style.display = "none";
    document.getElementById("celebrate").style.display = "block";

    setInterval(hearts, 300);
  }

  function hearts() {
    const h = document.createElement("div");
    h.className = "heart";
    h.innerHTML = "â¤ï¸";
    h.style.left = Math.random() * innerWidth + "px";
    h.style.bottom = "0";
    document.body.appendChild(h);
    setTimeout(() => h.remove(), 4000);
  }
</script>

</body>
</html>